<!DOCTYPE html><html lang="en" amp=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="icon" href="/images/icon.png"><meta name="theme-color" content="#3b4252"><title>Automatically setting up and connect Raspberry Pi to a Wifi network - Miki Lombardi</title><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tailwindcss/typography@0.2.x/dist/typography.min.css"><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script><link href="/css/about.36c9af4f.css" rel="prefetch"><link href="/js/about.f984a725.js" rel="prefetch"><link href="/js/chunk-2d0cf6d6.e6f6d766.js" rel="prefetch"><link href="/js/chunk-2d0d6391.331694ff.js" rel="prefetch"><link href="/js/chunk-2d0d69b1.3c6cac3b.js" rel="prefetch"><link href="/js/chunk-2d0de2f3.2b4689c6.js" rel="prefetch"><link href="/js/chunk-2d0de79d.4d1d5af4.js" rel="prefetch"><link href="/js/chunk-2d0e4833.40004825.js" rel="prefetch"><link href="/js/chunk-2d0e599e.ac24a02d.js" rel="prefetch"><link href="/js/chunk-2d208114.3f138e4b.js" rel="prefetch"><link href="/js/chunk-2d2109de.141ca7ff.js" rel="prefetch"><link href="/js/chunk-2d213737.8cb5b0c4.js" rel="prefetch"><link href="/js/chunk-2d21d51b.9549b08e.js" rel="prefetch"><link href="/js/chunk-2d21eace.bb4c5b26.js" rel="prefetch"><link href="/js/chunk-2d221839.3fed34d2.js" rel="prefetch"><link href="/js/chunk-2d2248e4.2df9a3a6.js" rel="prefetch"><link href="/js/chunk-2d230282.de43d66e.js" rel="prefetch"><link href="/js/chunk-2d230644.a842f60a.js" rel="prefetch"><link href="/css/app.a4a22bc3.css" rel="preload" as="style"><link href="/js/app.05cc152f.js" rel="preload" as="script"><link href="/js/chunk-vendors.f00deeb5.js" rel="preload" as="script"><link href="/css/app.a4a22bc3.css" rel="stylesheet"><link href="https://www.googletagmanager.com" rel="preconnect"><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-98330359-1&amp;l=dataLayer" charset="utf-8"></script><script charset="utf-8" src="/js/chunk-2d0de2f3.2b4689c6.js"></script><meta data-vue-meta="1" data-vmid="description" name="description" content="Automatically setting up your raspberry to connect to your wifi, with a static ip or DHCP! Only via SSH tunnel!"><meta data-vue-meta="1" data-vmid="og:title" name="og:title" content="Automatically setting up and connect Raspberry Pi to a Wifi network"><meta data-vue-meta="1" data-vmid="og:type" name="og:type" content="article"><meta data-vue-meta="1" data-vmid="og:url" name="og:url" content="http://localhost:8000/blog/2017-05-17-automatically-connect-wifi-raspberry-dhcp-and-staticip"><meta data-vue-meta="1" data-vmid="og:site_name" name="og:site_name" content="localhost"><meta data-vue-meta="1" data-vmid="og:description" name="og:description" content="Automatically setting up your raspberry to connect to your wifi, with a static ip or DHCP! Only via SSH tunnel!"><meta data-vue-meta="1" data-vmid="og:image" name="og:image" content="https://source.unsplash.com/17HaOLLOXYM/960x680"><meta data-vue-meta="1" data-vmid="twitter:widgets:csp" name="twitter:widgets:csp" content="on"><meta data-vue-meta="1" data-vmid="twitter:card" name="twitter:card" content="https://source.unsplash.com/17HaOLLOXYM/960x680"><meta data-vue-meta="1" data-vmid="twitter:image" name="twitter:image" content="https://source.unsplash.com/17HaOLLOXYM/960x680"><meta data-vue-meta="1" data-vmid="twitter:site" name="twitter:site" content="@thejoin95"><meta data-vue-meta="1" data-vmid="twitter:creator" name="twitter:creator" content="@thejoin95"><meta data-vue-meta="1" data-vmid="twitter:domain" name="twitter:domain" content="localhost"><meta data-vue-meta="1" data-vmid="twitter:title" name="twitter:title" content="Automatically setting up and connect Raspberry Pi to a Wifi network"><meta data-vue-meta="1" data-vmid="twitter:description" name="twitter:description" content="Automatically setting up your raspberry to connect to your wifi, with a static ip or DHCP! Only via SSH tunnel!"><script data-vue-meta="1" type="application/ld+json">{"@context":"https://schema.org","@type":"TechArticle","author":"Miki Lombardi","name":"Automatically setting up and connect Raspberry Pi to a Wifi network","articleBody":" <h1 id=\"automatically-setting-up-and-connect-raspberry-pi-to-a-wifi-network\">Automatically setting up and connect Raspberry Pi to a Wifi network</h1> <div class=\"mx-auto\"> <img class=\"max-w-full\" src=\"https://source.unsplash.com/17HaOLLOXYM/960x680\"/> </div> <p>So you have bought your Raspberry and you want to figure out how it is working! If you wanna be cool, you don&#39;t install GUI and do your things only by CLI and via SSH... but! You need a connection to your local network!! How connect automatically our raspberry on boot to our wifi network?</p> <p>Easy, with cron (or service) and via WPA config. Here is how.</p> <p>First of all, you need to identify your network name. If you boot Raspbian to desktop, you can launch the wpa_gui (WiFi config) application and click &#39;Scan&#39;. You&#39;ll find a list that has your network too with all flags you need. </p> <p>You know, I don&#39;t like this solution so, if you wanna be cool, you can do like this: <code>sudo iwlist wlan0 scan</code> and find out your wifi ESSID and proto.</p> <p>SSID is your network name. After you found it, you need to update your /etc/wpa_supplicant/wpa_supplicant.conf file. Here is an example:</p> <p>{% highlight bash %}</p> <p>network={ ssid=&quot;YOUR_NETWORK_NAME&quot; psk=&quot;YOUR_NETWORK_PASSWORD&quot; proto=RSN priority=1 key_mgmt=WPA-PSK pairwise=CCMP auth_alg=OPEN }</p> <p>{% endhighlight %}</p> <p>psk is your network password. You need to write it there. The other parameters are network specific, I can&#39;t tell you what you need.</p> <ul> <li>proto could be either RSN (WPA2) or WPA (WPA1).</li> <li>key_mgmt could be either WPA-PSK (most probably) or WPA-EAP (enterprise networks)</li> <li>pairwise could be either CCMP (WPA2) or TKIP (WPA1)</li> <li>auth_alg is most probably OPEN, other options are LEAP and SHARED</li> <li>priority is an incremental flag because you can specify more network connetions (just by duplicate the &quot;network object&quot;). Priority is an ascending field.</li> </ul> <p>After doing this you can run <code>sudo ifdown wlan0 and sudo ifup wlan0</code> and verify your connection by ping another ip. Now you have connected your RPi via DHCP. What if you wanna have a static ip? Here we go.</p> <p>We need to update our /etc/dhcpd.conf (for info about this file run <code>man dhcpcd.conf</code>) as the follow:</p> <p>/etc/dhcpcd.conf:</p> <p>{% highlight bash %}</p> <h1 id=\"a-sample-configuration-for-dhcpcd\">A sample configuration for dhcpcd.</h1> <h1 id=\"see-dhcpcdconf5-for-details\">See dhcpcd.conf(5) for details.</h1> <h1 id=\"allow-users-of-this-group-to-interact-with-dhcpcd-via-the-control-socket\">Allow users of this group to interact with dhcpcd via the control socket.</h1> <p>#controlgroup wheel</p> <h1 id=\"inform-the-dhcp-server-of-our-hostname-for-ddns\">Inform the DHCP server of our hostname for DDNS.</h1> <p>hostname</p> <h1 id=\"use-the-hardware-address-of-the-interface-for-the-client-id\">Use the hardware address of the interface for the Client ID.</h1> <p>clientid</p> <h1 id=\"or\">or</h1> <h1 id=\"use-the-same-duid--iaid-as-set-in-dhcpv6-for-dhcpv4-clientid-as-per-rfc4361\">Use the same DUID + IAID as set in DHCPv6 for DHCPv4 ClientID as per RFC4361.</h1> <p>#duid</p> <h1 id=\"persist-interface-configuration-when-dhcpcd-exits\">Persist interface configuration when dhcpcd exits.</h1> <p>persistent</p> <h1 id=\"rapid-commit-support\">Rapid commit support.</h1> <h1 id=\"safe-to-enable-by-default-because-it-requires-the-equivalent-option-set\">Safe to enable by default because it requires the equivalent option set</h1> <h1 id=\"on-the-server-to-actually-work\">on the server to actually work.</h1> <p>option rapid_commit</p> <h1 id=\"a-list-of-options-to-request-from-the-dhcp-server\">A list of options to request from the DHCP server.</h1> <p>option domain_name_servers, domain_name, domain_search, host_name option classless_static_routes</p> <h1 id=\"most-distributions-have-ntp-support\">Most distributions have NTP support.</h1> <p>option ntp_servers</p> <h1 id=\"respect-the-network-mtu\">Respect the network MTU.</h1> <h1 id=\"some-interface-drivers-reset-when-changing-the-mtu-so-disabled-by-default\">Some interface drivers reset when changing the MTU so disabled by default.</h1> <p>#option interface_mtu</p> <h1 id=\"a-serverid-is-required-by-rfc2131\">A ServerID is required by RFC2131.</h1> <p>require dhcp_server_identifier</p> <h1 id=\"generate-stable-private-ipv6-addresses-instead-of-hardware-based-ones\">Generate Stable Private IPv6 Addresses instead of hardware based ones</h1> <p>slaac private</p> <h1 id=\"a-hook-script-is-provided-to-lookup-the-hostname-if-not-set-by-the-dhcp\">A hook script is provided to lookup the hostname if not set by the DHCP</h1> <h1 id=\"server-but-it-should-not-be-run-by-default\">server, but it should not be run by default.</h1> <p>nohook lookup-hostname</p> <h1 id=\"look-i-configured-the-static-also-per-ethernet-connection-just-in-case\">look, I configured the static also per ethernet connection (just in case)</h1> <p>interface eth0</p> <p>static ip_address=192.168.1.10/24 static routers=192.168.1.1 static domain_name_servers=192.168.1.1</p> <h1 id=\"here-is-for-wifi-interface\">here is for wifi interface</h1> <p>interface wlan0</p> <h1 id=\"ipsubnet-class\">ip/subnet class</h1> <p>static ip_address=192.168.1.10/24 static routers=192.168.1.1 static domain_name_servers=192.168.1.1</p> <p>{% endhighlight %}</p> <p>It&#39;s pretty simply here, you need just specify your static ip and gateway. Then reboot your wifi connection.</p> <p>So, now you have configured your RPi with your wifi network and static ip but... what if the wifi network goes down and reup after 5min? You need to re-connect manually...</p> <p>BUT! If you wanna be a cool guy: check every minute (via crontab) if we are still connected to our wifi network and it&#39;s all up:</p> <p>{% highlight bash %} #!/bin/bash</p> <p>if ifconfig wlan0 | grep -q &quot;inet addr:&quot; ; then echo &quot;connected&quot; else echo &quot;Network connection down! Attempting reconnection.&quot; ifup --force wlan0 sleep 10 fi {% endhighlight %}</p> <p>You need to program this script in your crontab like this: <code>*/10 * * * * root /bin/bash /home/pi/check-wifi.sh</code></p> ","abstract":"Automatically setting up your raspberry to connect to your wifi, with a static ip or DHCP! Only via SSH tunnel!"}</script></head><body><noscript><strong>We're sorry but portfolio doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id="app"><div class="lettering content fixed"><div class="slideshow"><div class="slide slide--current"><svg class="shapes" width="800px" height="600px" viewbox="0 0 800 600"><rect width="4.4634375" height="21.060000000000002" x="262.41671875" y="280.47" fill="none" stroke-width="10" stroke="red" style="opacity: 0.82381; transform-origin: 264.648px 291px; transform: translateX(-145.931px) translateY(-107.577px) scale(0.228718) rotate(-8.41911deg);"></rect><circle r="20.6640625" cx="264.6484375" cy="291" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0.986753; transform-origin: 264.648px 291px; transform: translateX(-74.6677px) translateY(-44.4451px) scale(0.263331) rotate(-0.888902deg);"></circle><circle r="20.6640625" cx="264.6484375" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 1; transform-origin: 264.648px 291px; transform: translateX(36.774px) translateY(-108.688px) scale(0.4743) rotate(-7.35481deg);"></circle><rect width="20.3334375" height="17.064" x="254.48171875" y="282.468" fill="none" stroke-width="10" stroke="#000" style="opacity: 1; transform-origin: 264.648px 291px; transform: translateX(-133.573px) translateY(-139.257px) scale(0.452099) rotate(9.94691deg);"></rect><rect width="11.406562500000001" height="23.868" x="258.94515625" y="279.06600000000003" fill="none" stroke-width="10" stroke="red" style="opacity: 1; transform-origin: 264.648px 291px; transform: translateX(63.4142px) translateY(45.6137px) scale(0.242187) rotate(5.00638deg);"></rect><polygon points="243.984375 345, 264.6484375 303.671875, 285.3125 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 1; transform-origin: 264.648px 291px; transform: translateX(-39.3134px) translateY(15.2509px) scale(0.410335) rotate(-1.35563deg);"></polygon><rect width="20.374765625" height="27" x="254.4610546875" y="277.5" fill="none" stroke-width="10" stroke="#000" style="opacity: 1; transform-origin: 264.648px 291px; transform: translateX(-5.49558px) translateY(-5.41707px) scale(0.269421) rotate(0.235525deg);"></rect><circle r="20.6640625" cx="264.6484375" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 264.648px 291px; transform: translateX(0px) translateY(0px) scale(0.46) rotate(0deg);"></circle><polygon points="243.984375 345, 264.6484375 303.671875, 285.3125 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 264.648px 291px; transform: translateX(0px) translateY(0px) scale(0.52) rotate(0deg);"></polygon><rect width="18.143046875" height="52.92" x="255.5769140625" y="264.54" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 264.648px 291px; transform: translateX(0px) translateY(0px) scale(0.47) rotate(0deg);"></rect><rect width="6.6165625" height="14.040000000000001" x="308.68390625" y="283.98" fill="none" stroke-width="10" stroke="red" style="opacity: 1; transform-origin: 311.992px 291px; transform: translateX(-81.068px) translateY(37.1562px) scale(0.588445) rotate(-10.1335deg);"></rect><circle r="26.6796875" cx="311.9921875" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 1; transform-origin: 311.992px 291px; transform: translateX(134.37px) translateY(117.856px) scale(0.305067) rotate(-0.750673deg);"></circle><polygon points="285.3125 345, 311.9921875 291.640625, 338.671875 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 1; transform-origin: 311.992px 291px; transform: translateX(77.9602px) translateY(120.93px) scale(0.28297) rotate(8.59404deg);"></polygon><rect width="24.331875" height="40.608" x="299.82625" y="270.696" fill="none" stroke-width="10" stroke="#000" style="opacity: 1; transform-origin: 311.992px 291px; transform: translateX(-22.2332px) translateY(31.8816px) scale(0.37678) rotate(0deg);"></rect><rect width="23.744921875" height="35.1" x="300.1197265625" y="273.45" fill="none" stroke-width="10" stroke="#000" style="opacity: 1; transform-origin: 311.992px 291px; transform: translateX(20.9509px) translateY(-22.2977px) scale(0.344419) rotate(1.49649deg);"></rect><polygon points="285.3125 345, 311.9921875 291.640625, 338.671875 345" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 311.992px 291px; transform: translateX(0px) translateY(0px) scale(0.53) rotate(0deg);"></polygon><rect width="16.061171875" height="43.308" x="303.9616015625" y="269.346" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 311.992px 291px; transform: translateX(0px) translateY(0px) scale(0.59) rotate(0deg);"></rect><rect width="19.156015625" height="46.44" x="302.4141796875" y="267.78" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 311.992px 291px; transform: translateX(0px) translateY(0px) scale(0.47) rotate(0deg);"></rect><rect width="26.199453124999998" height="7.776" x="298.8924609375" y="287.112" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 311.992px 291px; transform: translateX(0px) translateY(0px) scale(0.22) rotate(0deg);"></rect><circle r="26.6796875" cx="311.9921875" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 311.992px 291px; transform: translateX(0px) translateY(0px) scale(0.52) rotate(0deg);"></circle><rect width="18.259999999999998" height="42.984" x="351.541875" y="269.508" fill="none" stroke-width="10" stroke="#000" style="opacity: 1; transform-origin: 360.672px 291px; transform: translateX(-72.0289px) translateY(-56.4707px) scale(0.410672) rotate(-5.18608deg);"></rect><rect width="10.868" height="28.188000000000002" x="355.237875" y="276.906" fill="none" stroke-width="10" stroke="#fff" style="opacity: 1; transform-origin: 360.672px 291px; transform: translateX(39.2452px) translateY(12.4704px) scale(0.428651) rotate(5.50166deg);"></rect><rect width="15.664" height="21.060000000000002" x="352.839875" y="280.47" fill="none" stroke-width="10" stroke="#fff" style="opacity: 1; transform-origin: 360.672px 291px; transform: translateX(12.8402px) translateY(-9.51409px) scale(0.306132) rotate(-0.850854deg);"></rect><rect width="5.676" height="32.832" x="357.833875" y="274.584" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 360.672px 291px; transform: translateX(0px) translateY(0px) scale(0.54) rotate(0deg);"></rect><circle r="22" cx="360.671875" cy="291" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 360.672px 291px; transform: translateX(0px) translateY(0px) scale(0.26) rotate(0deg);"></circle><circle r="22" cx="360.671875" cy="291" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 360.672px 291px; transform: translateX(0px) translateY(0px) scale(0.25) rotate(0deg);"></circle><rect width="11.308" height="27.756" x="355.017875" y="277.122" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 360.672px 291px; transform: translateX(0px) translateY(0px) scale(0.25) rotate(0deg);"></rect><rect width="15.575999999999999" height="38.448" x="352.883875" y="271.776" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 360.672px 291px; transform: translateX(0px) translateY(0px) scale(0.35) rotate(0deg);"></rect><rect width="5.808" height="28.512" x="357.767875" y="276.744" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 360.672px 291px; transform: translateX(0px) translateY(0px) scale(0.25) rotate(0deg);"></rect><rect width="12.276000000000002" height="44.279999999999994" x="354.533875" y="268.86" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 360.672px 291px; transform: translateX(0px) translateY(0px) scale(0.55) rotate(0deg);"></rect><polygon points="382.671875 345, 400.671875 309, 418.671875 345" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.44) rotate(0deg);"></polygon><rect width="17.244" height="50.976" x="392.049875" y="265.512" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.49) rotate(0deg);"></rect><polygon points="382.671875 345, 400.671875 309, 418.671875 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.39) rotate(0deg);"></polygon><polygon points="382.671875 345, 400.671875 309, 418.671875 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.22) rotate(0deg);"></polygon><polygon points="382.671875 345, 400.671875 309, 418.671875 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.4) rotate(0deg);"></polygon><rect width="6.984" height="29.592000000000002" x="397.179875" y="276.204" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.45) rotate(0deg);"></rect><polygon points="382.671875 345, 400.671875 309, 418.671875 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.6) rotate(0deg);"></polygon><circle r="18" cx="400.671875" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.41) rotate(0deg);"></circle><polygon points="382.671875 345, 400.671875 309, 418.671875 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.38) rotate(0deg);"></polygon><rect width="4.356" height="11.88" x="398.493875" y="285.06" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 400.672px 291px; transform: translateX(0px) translateY(0px) scale(0.43) rotate(0deg);"></rect><rect width="12.056859375" height="17.496000000000002" x="442.6356328125" y="282.252" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 448.664px 291px;"></rect><circle r="29.9921875" cx="448.6640625" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 448.664px 291px;"></circle><polygon points="418.671875 345, 448.6640625 285.015625, 478.65625 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 448.664px 291px;"></polygon><rect width="6.71825" height="17.712" x="445.3049375" y="282.144" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 448.664px 291px;"></rect><rect width="21.894296875" height="13.392" x="437.7169140625" y="284.304" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 448.664px 291px;"></rect><circle r="29.9921875" cx="448.6640625" cy="291" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 448.664px 291px;"></circle><circle r="29.9921875" cx="448.6640625" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 448.664px 291px;"></circle><polygon points="418.671875 345, 448.6640625 285.015625, 478.65625 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 448.664px 291px;"></polygon><polygon points="418.671875 345, 448.6640625 285.015625, 478.65625 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 448.664px 291px;"></polygon><circle r="29.9921875" cx="448.6640625" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 448.664px 291px;"></circle><rect width="2.02315625" height="5.616" x="487.660296875" y="288.192" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 488.672px 291px;"></rect><rect width="6.0494375" height="21.6" x="485.64715625" y="280.2" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 488.672px 291px;"></rect><circle r="10.015625" cx="488.671875" cy="291" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 488.672px 291px;"></circle><polygon points="478.65625 345, 488.671875 324.96875, 498.6875 345" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 488.672px 291px;"></polygon><polygon points="478.65625 345, 488.671875 324.96875, 498.6875 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 488.672px 291px;"></polygon><rect width="9.19434375" height="37.044000000000004" x="484.074703125" y="272.478" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 488.672px 291px;"></rect><rect width="4.086374999999999" height="17.496000000000002" x="486.6286875" y="282.252" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 488.672px 291px;"></rect><polygon points="478.65625 345, 488.671875 324.96875, 498.6875 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 488.672px 291px;"></polygon><rect width="9.59496875" height="20.736" x="483.874390625" y="280.632" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 488.672px 291px;"></rect><circle r="10.015625" cx="488.671875" cy="291" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 488.672px 291px;"></circle><circle r="28.65625" cx="527.34375" cy="291" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 527.344px 291px;"></circle><polygon points="498.6875 345, 527.34375 287.6875, 556 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 527.344px 291px;"></polygon><rect width="8.539562499999999" height="34.992000000000004" x="523.07396875" y="273.504" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 527.344px 291px;"></rect><rect width="26.593" height="36.612" x="514.04725" y="272.694" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 527.344px 291px;"></rect><polygon points="498.6875 345, 527.34375 287.6875, 556 345" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 527.344px 291px;"></polygon><polygon points="498.6875 345, 527.34375 287.6875, 556 345" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 527.344px 291px;"></polygon><rect width="15.245125000000002" height="19.98" x="519.7211875" y="281.01" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 527.344px 291px;"></rect><rect width="26.478375" height="27.216" x="514.1045625" y="277.392" fill="none" stroke-width="10" stroke="#000" style="opacity: 0; transform-origin: 527.344px 291px;"></rect><circle r="28.65625" cx="527.34375" cy="291" fill="none" stroke-width="10" stroke="#fff" style="opacity: 0; transform-origin: 527.344px 291px;"></circle><rect width="7.679875000000001" height="13.176" x="523.5038125" y="284.412" fill="none" stroke-width="10" stroke="red" style="opacity: 0; transform-origin: 527.344px 291px;"></rect></svg><h2 class="word word--1" aria-label="thejoin"><span class="char1" aria-hidden="true" style="opacity: 1; transform: translateY(0.00675965px);">t</span><span class="char2" aria-hidden="true" style="opacity: 1; transform: translateY(-0.342049px);">h</span><span class="char3" aria-hidden="true" style="opacity: 1; transform: translateY(3.59589px);">e</span><span class="char4" aria-hidden="true" style="opacity: 1; transform: translateY(-17.2732px);">j</span><span class="char5" aria-hidden="true" style="opacity: 0.9332; transform: translateY(62.561px);">o</span><span class="char6" aria-hidden="true" style="opacity: 0.3332; transform: translateY(-199.983px);">i</span><span class="char7" aria-hidden="true" style="opacity: 0; transform: translateY(315px);">n</span></h2></div></div></div><section class="navigation relative"><div class="navigation-header fixed w-full"><div class="hidden md:block absolute say-hi tracking-wider"><a href="/" class="router-link-active"><img alt="Miki go to Home" src="/images/icon.png" class="mr-1 align-top inline-block w-6 m-w-full"></a><div class="hidden-tooltip inline-block"><span class="tooltip rounded shadow-lg p-1 bg-gray-600 text-grey-500 -mt-8"> Email address copied </span><a href="#">Say Hi.</a></div></div><div class="absolute hamburger cursor-pointer p-2 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-8"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></div></div><div class="navigation-footer fixed w-full"><div class="hidden md:block absolute whoami tracking-wider"><a href="/whoami" class="">WhoAmI</a></div><div class="hidden md:block absolute writing tracking-wider"><a href="/blog" class="router-link-active">Writing</a></div></div><div class="hidden shadow md:shadow-2xl w-full md:w-1/3 h-full fixed off-canvas-menu z-10 p-5"><div class="close-header w-full border-opacity-50"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="inline w-12 cursor-pointer"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg><span class="text-4xl align-middle cursor-pointer">Close</span></div><div class="mb-5 md:mb-10 pb-3 md:pb-5 mobile-content absolute bottom-0 w-full text-3xl"><ul><li class="cursor-pointer pb-1"><a href="/" class="block router-link-active">~</a></li><li class="cursor-pointer py-1"><a href="/whoami" class="block">WhoAmI</a></li><li class="cursor-pointer py-1"><a href="/blog" class="block router-link-active">Writing</a></li><li class="cursor-pointer py-1 social-li"><span class="cursor-pointer">Social</span><ul class="social-box align-middle leading-none"><li class="inline-block pr-1"><a href="https://github.com/thejoin95" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" class="github-icon w-6"><path fill="#FFFFFF" d="M10.015,9.949c0,0-0.01,0-0.015,0H9.985c-1.191,0-2.24-0.303-2.861,0.268  c-0.371,0.342-0.527,0.754-0.527,1.197c0,1.852,1.483,2.08,3.389,2.08h0.029c1.905,0,3.389-0.229,3.389-2.08  c0-0.443-0.156-0.856-0.527-1.197C12.255,9.646,11.206,9.949,10.015,9.949z M8.393,12.48c-0.363,0-0.656-0.408-0.656-0.91  s0.293-0.908,0.656-0.908S9.05,11.068,9.05,11.57C9.051,12.072,8.757,12.48,8.393,12.48z M11.606,12.48  c-0.363,0-0.657-0.408-0.657-0.91s0.294-0.908,0.657-0.908c0.362,0,0.656,0.406,0.656,0.908  C12.263,12.072,11.969,12.48,11.606,12.48z M10,0.4c-5.302,0-9.6,4.298-9.6,9.6s4.298,9.6,9.6,9.6s9.6-4.298,9.6-9.6  S15.302,0.4,10,0.4z M10.876,13.939c-0.172,0-0.514,0-0.876,0.002c-0.362-0.002-0.704-0.002-0.876-0.002  c-0.76,0-3.772-0.059-3.772-3.689c0-0.834,0.286-1.445,0.755-1.955c-0.074-0.184-0.078-1.232,0.32-2.236c0,0,0.916,0.1,2.301,1.051  C9.017,7.029,9.509,6.988,10,6.988s0.982,0.041,1.273,0.121c1.385-0.951,2.301-1.051,2.301-1.051  c0.398,1.004,0.395,2.053,0.32,2.236c0.469,0.51,0.755,1.121,0.755,1.955C14.648,13.881,11.636,13.939,10.876,13.939z"></path></svg></a></li><li class="inline-block px-1"><a href="https://www.facebook.com/mikistorm/" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" class="fb-icon w-6"><path fill="#FFFFFF" d="M10,0.4c-5.302,0-9.6,4.298-9.6,9.6s4.298,9.6,9.6,9.6s9.6-4.298,9.6-9.6S15.302,0.4,10,0.4z M12.274,7.034  h-1.443c-0.171,0-0.361,0.225-0.361,0.524V8.6h1.805l-0.273,1.486H10.47v4.461H8.767v-4.461H7.222V8.6h1.545V7.726  c0-1.254,0.87-2.273,2.064-2.273h1.443V7.034z"></path></svg></a></li><li class="inline-block px-1"><a href="https://instagram.com/thejoin95" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" class="ig-icon w-6"><path fill="#FFFFFF" d="M13.89777,7.05115a1.65591,1.65591,0,0,0-.94891-0.94891,2.76589,2.76589,0,0,0-.92841-0.17218C11.49316,5.906,11.33508,5.90094,10,5.90094S8.50684,5.906,7.97955,5.93005a2.76589,2.76589,0,0,0-.92841.17218,1.65591,1.65591,0,0,0-.94891.94891,2.76589,2.76589,0,0,0-.17218.92841C5.906,8.50684,5.90094,8.665,5.90094,10s0.00507,1.49316.02911,2.02045a2.76553,2.76553,0,0,0,.17218.92841,1.65591,1.65591,0,0,0,.94891.94891,2.76589,2.76589,0,0,0,.92841.17218c0.52716,0.024.6853,0.02911,2.02045,0.02911s1.49329-.00507,2.02045-0.02911a2.76589,2.76589,0,0,0,.92841-0.17218,1.65591,1.65591,0,0,0,.94891-0.94891,2.76553,2.76553,0,0,0,.17218-0.92841c0.024-.52728.02911-0.68536,0.02911-2.02045S14.094,8.50684,14.06995,7.97955A2.76589,2.76589,0,0,0,13.89777,7.05115ZM10,12.56757A2.56757,2.56757,0,1,1,12.56757,10,2.56756,2.56756,0,0,1,10,12.56757ZM12.669,7.931a0.6,0.6,0,1,1,.6-0.6A0.6,0.6,0,0,1,12.669,7.931ZM11.66669,10A1.66669,1.66669,0,1,1,10,8.33331,1.66671,1.66671,0,0,1,11.66669,10ZM10,0.4A9.6,9.6,0,1,0,19.6,10,9.59995,9.59995,0,0,0,10,.4Zm4.96991,11.6615a3.67039,3.67039,0,0,1-.23242,1.21368,2.55612,2.55612,0,0,1-1.46228,1.46228,3.67039,3.67039,0,0,1-1.21368.23242C11.5282,14.99426,11.35791,15,10,15s-1.5282-.00574-2.06152-0.03009a3.67039,3.67039,0,0,1-1.21368-.23242,2.55612,2.55612,0,0,1-1.46228-1.46228,3.67039,3.67039,0,0,1-.23242-1.21368C5.00574,11.5282,5,11.35791,5,10s0.00574-1.5282.03009-2.06152a3.67039,3.67039,0,0,1,.23242-1.21368A2.55612,2.55612,0,0,1,6.72479,5.26251a3.67039,3.67039,0,0,1,1.21368-.23242C8.4718,5.00574,8.64209,5,10,5s1.5282,0.00574,2.06152.03009a3.67039,3.67039,0,0,1,1.21368.23242,2.55612,2.55612,0,0,1,1.46228,1.46228,3.67039,3.67039,0,0,1,.23242,1.21368C14.99426,8.4718,15,8.64209,15,10S14.99426,11.5282,14.96991,12.06152Z"></path></svg></a></li><li class="inline-block px-1"><a href="https://www.linkedin.com/in/miki-lombardi/" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" class="ld-icon w-6"><path fill="#FFFFFF" d="M10,0.4c-5.302,0-9.6,4.298-9.6,9.6s4.298,9.6,9.6,9.6s9.6-4.298,9.6-9.6S15.302,0.4,10,0.4z M7.65,13.979  H5.706V7.723H7.65V13.979z M6.666,6.955c-0.614,0-1.011-0.435-1.011-0.973c0-0.549,0.409-0.971,1.036-0.971s1.011,0.422,1.023,0.971  C7.714,6.52,7.318,6.955,6.666,6.955z M14.75,13.979h-1.944v-3.467c0-0.807-0.282-1.355-0.985-1.355  c-0.537,0-0.856,0.371-0.997,0.728c-0.052,0.127-0.065,0.307-0.065,0.486v3.607H8.814v-4.26c0-0.781-0.025-1.434-0.051-1.996h1.689  l0.089,0.869h0.039c0.256-0.408,0.883-1.01,1.932-1.01c1.279,0,2.238,0.857,2.238,2.699V13.979z"></path></svg></a></li><li class="inline-block px-1"><a href="https://medium.com/@thejoin95" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" class="md-icon w-6"><path fill="#FFFFFF" d="M10,0.3999634c-5.3019409,0-9.5999756,4.2980957-9.5999756,9.6000366S4.6980591,19.5999756,10,19.5999756  S19.5999756,15.3019409,19.5999756,10S15.3019409,0.3999634,10,0.3999634z M14.2000122,7.666687h-0.1165771  c0,0-0.3500977,0-0.3500977,0.3500977c0,0.3500366,0,3.9666748,0,3.9666748s0,0.3497925,0.3500977,0.3497925h0.1165771v0.9333496  h-2.7999878V12.333252h0.4666138V7.9933472h-0.0466309l-1.4301147,5.2732544H9.1304321L7.7133179,7.9933472H7.666687v4.3399048  h0.4666748v0.9333496h-2.333374V12.333252h0.1165771c0,0,0.3500977,0,0.3500977-0.3500366s0-3.9667358,0-3.9667358  s0-0.3497925-0.3500977-0.3497925H5.7999878V6.7333984H8.895874l1.0858765,4.0408325h0.0357666l1.0959473-4.0408325h3.0865479  V7.666687z"></path></svg></a></li><li class="inline-block px-1"><a href="https://twitter.com/thejoin95" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" class="tw-icon w-6"><path fill="#FFFFFF" d="M10,0.4c-5.302,0-9.6,4.298-9.6,9.6s4.298,9.6,9.6,9.6s9.6-4.298,9.6-9.6S15.302,0.4,10,0.4z M13.905,8.264  c0.004,0.082,0.005,0.164,0.005,0.244c0,2.5-1.901,5.381-5.379,5.381c-1.068,0-2.062-0.312-2.898-0.85  c0.147,0.018,0.298,0.025,0.451,0.025c0.886,0,1.701-0.301,2.348-0.809c-0.827-0.016-1.525-0.562-1.766-1.312  c0.115,0.021,0.233,0.033,0.355,0.033c0.172,0,0.34-0.023,0.498-0.066c-0.865-0.174-1.517-0.938-1.517-1.854V9.033  C6.257,9.174,6.549,9.26,6.859,9.27C6.351,8.93,6.018,8.352,6.018,7.695c0-0.346,0.093-0.672,0.256-0.951  c0.933,1.144,2.325,1.896,3.897,1.977c-0.033-0.139-0.049-0.283-0.049-0.432c0-1.043,0.846-1.891,1.891-1.891  c0.543,0,1.035,0.23,1.38,0.598c0.431-0.086,0.835-0.242,1.2-0.459c-0.141,0.441-0.44,0.812-0.831,1.047  c0.383-0.047,0.747-0.148,1.086-0.299C14.595,7.664,14.274,7.998,13.905,8.264z"></path></svg></a></li><li class="inline-block px-1"><a href="https://www.youtube.com/channel/UC1QLLgrGrPmlaFhS0orykCA" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" class="yt-icon w-6"><path fill="#FFFFFF" d="M11.603,9.833L9.357,8.785C9.161,8.694,9,8.796,9,9.013v1.974c0,0.217,0.161,0.319,0.357,0.228l2.245-1.048  C11.799,10.075,11.799,9.925,11.603,9.833z M10,0.4c-5.302,0-9.6,4.298-9.6,9.6s4.298,9.6,9.6,9.6s9.6-4.298,9.6-9.6  S15.302,0.4,10,0.4z M10,13.9c-4.914,0-5-0.443-5-3.9s0.086-3.9,5-3.9s5,0.443,5,3.9S14.914,13.9,10,13.9z"></path></svg></a></li></ul></li><li class="cursor-pointer pt-1"><div class="hidden-tooltip"><span class="tooltip rounded shadow-lg p-1 bg-gray-600 text-grey-500 -mt-8"> Email address copied </span> Say Hi </div></li></ul></div></div></section><section class="article container mx-auto m-width-780 p-3 py-0"><article class="article-content p-3 prose md:prose-xl"> <h1 id="automatically-setting-up-and-connect-raspberry-pi-to-a-wifi-network">Automatically setting up and connect Raspberry Pi to a Wifi network</h1> <div class="mx-auto"> <img class="max-w-full" src="https://source.unsplash.com/17HaOLLOXYM/960x680"> </div> <p>So you have bought your Raspberry and you want to figure out how it is working! If you wanna be cool, you don't install GUI and do your things only by CLI and via SSH... but! You need a connection to your local network!! How connect automatically our raspberry on boot to our wifi network?</p> <p>Easy, with cron (or service) and via WPA config. Here is how.</p> <p>First of all, you need to identify your network name. If you boot Raspbian to desktop, you can launch the wpa_gui (WiFi config) application and click 'Scan'. You'll find a list that has your network too with all flags you need. </p> <p>You know, I don't like this solution so, if you wanna be cool, you can do like this: <code>sudo iwlist wlan0 scan</code> and find out your wifi ESSID and proto.</p> <p>SSID is your network name. After you found it, you need to update your /etc/wpa_supplicant/wpa_supplicant.conf file. Here is an example:</p> <p>{% highlight bash %}</p> <p>network={ ssid="YOUR_NETWORK_NAME" psk="YOUR_NETWORK_PASSWORD" proto=RSN priority=1 key_mgmt=WPA-PSK pairwise=CCMP auth_alg=OPEN }</p> <p>{% endhighlight %}</p> <p>psk is your network password. You need to write it there. The other parameters are network specific, I can't tell you what you need.</p> <ul> <li>proto could be either RSN (WPA2) or WPA (WPA1).</li> <li>key_mgmt could be either WPA-PSK (most probably) or WPA-EAP (enterprise networks)</li> <li>pairwise could be either CCMP (WPA2) or TKIP (WPA1)</li> <li>auth_alg is most probably OPEN, other options are LEAP and SHARED</li> <li>priority is an incremental flag because you can specify more network connetions (just by duplicate the "network object"). Priority is an ascending field.</li> </ul> <p>After doing this you can run <code>sudo ifdown wlan0 and sudo ifup wlan0</code> and verify your connection by ping another ip. Now you have connected your RPi via DHCP. What if you wanna have a static ip? Here we go.</p> <p>We need to update our /etc/dhcpd.conf (for info about this file run <code>man dhcpcd.conf</code>) as the follow:</p> <p>/etc/dhcpcd.conf:</p> <p>{% highlight bash %}</p> <h1 id="a-sample-configuration-for-dhcpcd">A sample configuration for dhcpcd.</h1> <h1 id="see-dhcpcdconf5-for-details">See dhcpcd.conf(5) for details.</h1> <h1 id="allow-users-of-this-group-to-interact-with-dhcpcd-via-the-control-socket">Allow users of this group to interact with dhcpcd via the control socket.</h1> <p>#controlgroup wheel</p> <h1 id="inform-the-dhcp-server-of-our-hostname-for-ddns">Inform the DHCP server of our hostname for DDNS.</h1> <p>hostname</p> <h1 id="use-the-hardware-address-of-the-interface-for-the-client-id">Use the hardware address of the interface for the Client ID.</h1> <p>clientid</p> <h1 id="or">or</h1> <h1 id="use-the-same-duid--iaid-as-set-in-dhcpv6-for-dhcpv4-clientid-as-per-rfc4361">Use the same DUID + IAID as set in DHCPv6 for DHCPv4 ClientID as per RFC4361.</h1> <p>#duid</p> <h1 id="persist-interface-configuration-when-dhcpcd-exits">Persist interface configuration when dhcpcd exits.</h1> <p>persistent</p> <h1 id="rapid-commit-support">Rapid commit support.</h1> <h1 id="safe-to-enable-by-default-because-it-requires-the-equivalent-option-set">Safe to enable by default because it requires the equivalent option set</h1> <h1 id="on-the-server-to-actually-work">on the server to actually work.</h1> <p>option rapid_commit</p> <h1 id="a-list-of-options-to-request-from-the-dhcp-server">A list of options to request from the DHCP server.</h1> <p>option domain_name_servers, domain_name, domain_search, host_name option classless_static_routes</p> <h1 id="most-distributions-have-ntp-support">Most distributions have NTP support.</h1> <p>option ntp_servers</p> <h1 id="respect-the-network-mtu">Respect the network MTU.</h1> <h1 id="some-interface-drivers-reset-when-changing-the-mtu-so-disabled-by-default">Some interface drivers reset when changing the MTU so disabled by default.</h1> <p>#option interface_mtu</p> <h1 id="a-serverid-is-required-by-rfc2131">A ServerID is required by RFC2131.</h1> <p>require dhcp_server_identifier</p> <h1 id="generate-stable-private-ipv6-addresses-instead-of-hardware-based-ones">Generate Stable Private IPv6 Addresses instead of hardware based ones</h1> <p>slaac private</p> <h1 id="a-hook-script-is-provided-to-lookup-the-hostname-if-not-set-by-the-dhcp">A hook script is provided to lookup the hostname if not set by the DHCP</h1> <h1 id="server-but-it-should-not-be-run-by-default">server, but it should not be run by default.</h1> <p>nohook lookup-hostname</p> <h1 id="look-i-configured-the-static-also-per-ethernet-connection-just-in-case">look, I configured the static also per ethernet connection (just in case)</h1> <p>interface eth0</p> <p>static ip_address=192.168.1.10/24 static routers=192.168.1.1 static domain_name_servers=192.168.1.1</p> <h1 id="here-is-for-wifi-interface">here is for wifi interface</h1> <p>interface wlan0</p> <h1 id="ipsubnet-class">ip/subnet class</h1> <p>static ip_address=192.168.1.10/24 static routers=192.168.1.1 static domain_name_servers=192.168.1.1</p> <p>{% endhighlight %}</p> <p>It's pretty simply here, you need just specify your static ip and gateway. Then reboot your wifi connection.</p> <p>So, now you have configured your RPi with your wifi network and static ip but... what if the wifi network goes down and reup after 5min? You need to re-connect manually...</p> <p>BUT! If you wanna be a cool guy: check every minute (via crontab) if we are still connected to our wifi network and it's all up:</p> <p>{% highlight bash %} #!/bin/bash</p> <p>if ifconfig wlan0 | grep -q "inet addr:" ; then echo "connected" else echo "Network connection down! Attempting reconnection." ifup --force wlan0 sleep 10 fi {% endhighlight %}</p> <p>You need to program this script in your crontab like this: <code>*/10 * * * * root /bin/bash /home/pi/check-wifi.sh</code></p> </article></section></div><script src="/js/chunk-vendors.f00deeb5.js"></script><script src="/js/app.05cc152f.js"></script></body></html>